//========================================================================================================== 
//    Used with pic30-gcc. and dsPIC.
//    Language tool versions: pic30-as.exe v3.24, pic30-gcc.exe v3.24, pic30-ld.exe v3.24, pic30-ar.exe v3.24
//==========================================================================================================
//    File name   : eeprom.c
//    Description : Internal EEPROM secured strategy routines
//
//    History :
//    1. Date        : 06.03.2011
//       Author      : V.Gyurov
//       Description : Create
//
//
//    $Revision: V3.01 $
//                                  
//
//==========================================================================================================
#ifndef __EEPROM_H
#define __EEPROM_H
    
//==========================================================================================================
// Included files to resolve specific definitions in this file                
//==========================================================================================================
#include <libpic30.h>
#include "basedef.h"
#include "PARLIST.h"


//==========================================================================================================
// Constant data                                                              
//==========================================================================================================

//==========================================================================================================
// Exported type                                                             
//==========================================================================================================
typedef struct tsParamAct
{
    U16  Iopar_members;
    U16  Iopar_Index;
    U16  EE_Chk_act;
    U8   u8NumberOfUpdatedBanks;
    BOOL bActiveBank;
}sParamAct;

//==========================================================================================================
// Exported data                                                              
//==========================================================================================================
extern U16 EE_CHKS;
extern U16 EE_Valid;
extern U16 EE_par_update;
extern sParamAct ParamAct;

//==========================================================================================================
// Constant exported data                                                     
//==========================================================================================================


//==========================================================================================================
// Exported Macros                                                            
//==========================================================================================================


//==========================================================================================================
// Exported functions                     				                        
//==========================================================================================================
void ee_param_act(BOOL init,BOOL read_all_params);
HRESULT EE_CheckEEprom(void);


#endif // __EEPROM_H

